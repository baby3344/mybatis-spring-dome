<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org//dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.qwx.dao.bill.BillMapper">

    <resultMap id="billMap" type="Bill">
        <result property="providerName" column="proName"></result>
    </resultMap>

    <select id="BillList" resultMap="billMap" resultType="Bill">
        select b.*,p.proName from smbms_provider p,smbms_bill b where b.providerId=p.id and productName like CONCAT('%',#{productName},'%')
        and providerId=#{providerId}
        and isPayment=#{isPayment}
    </select>

    <insert id="addBill" parameterType="Bill">
        INSERT INTO `smbms`.`smbms_bill` ( `billCode`, `productName`, `productDesc`,
        `productUnit`, `productCount`, `totalPrice`, `isPayment`, `createdBy`, `creationDate`, `providerId` )
        VALUES ( #{billCode}, #{productName}, #{productDesc}, #{productUnit}, #{productCount}, #{totalPrice}, #{isPayment}, #{createdBy},
        #{creationDate}, #{providerId} ) ;
    </insert>
</mapper>